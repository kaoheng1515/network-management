{% extends 'network/base.html' %}

{% block title %}Viewer - Network Management{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card shadow-sm">
            <div class="card-header d-flex justify-content-between align-items-center" style="background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%); color: white;">
                <h3 class="mb-0">Network Devices</h3>
                <span>Last updated: {{ devices.0.last_updated|date:"m/d/y" if devices }}</span>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>Building/Floor/Room number</th>
                                <th>Local IP</th>
                                <th>Public IP</th>
                                <th>Remote IP</th>
                                <th>VLAN</th>
                                <th>Username</th>
                                <th>Password</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for device in devices %}
                                <tr>
                                    <td>{{ device.building|default:'' }}/{{ device.floor|default:'' }}/{{ device.room_number|default:'' }}</td>
                                    <td>{{ device.local_ip|default:'' }}</td>
                                    <td>{{ device.public_ip|default:'' }}</td>
                                    <td>{{ device.remote_ip|default:'' }}</td>
                                    <td>{{ device.vlan|default:'' }}</td>
                                    <td>{{ device.username|default:'' }}</td>
                                    <td>{{ device.password|default:'' }}</td>
                                    <td><a href="{{ device.link|default:'' }}" target="_blank" class="text-primary">{{ device.link|default:'' }}</a></td>
                                </tr>
                            {% empty %}
                                <tr><td colspan="8" class="text-center">No data available</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}